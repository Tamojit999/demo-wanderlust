<% layout('./layouts/boilerplate') -%>

<div class="container my-4">
 

  <% if (userlistings && userlistings.length > 0) { %>
    <div class="row g-3 row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4">

      <% for (let list of userlistings) { %>
        <div class="col">
          <div class="card h-100 shadow-sm border-0 listing-card"
               onclick="window.location.href='/listings/<%= list._id %>'"
               style="cursor: pointer; user-select: none;">
            <!-- Image -->
            <img src="<%= list.image && list.image.url ? list.image.url : '/images/default.jpg' %>"
                 class="card-img-top"
                 alt="listing"
                 style="height: 150px; object-fit: cover; border-radius: 0.5rem 0.5rem 0 0;">

            <!-- Title & Location -->
            <div class="card-body p-2">
              <h6 class="card-title fs-6 mb-1"><%= list.title || "Untitled" %></h6>
              <p class="text-muted small mb-0"><i class="bi bi-geo-alt"></i> <%= list.location || "Unknown" %></p>
            </div>
          </div>
        </div>
      <% } %>

    </div>
  <% } else { %>
    <p class="text-muted fs-5 text-center">No listings found.</p>
  <% } %>
</div>
